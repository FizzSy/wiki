(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{417:function(s,n,a){"use strict";a.r(n);var t=a(17),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[s._v("#")]),s._v(" Nginx")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("简介")]),s._v(" "),a("p",[s._v('Nginx("engine x")是一款是由俄罗斯的程序设计师 Igor Sysoev 所开发高性能的 Web 和 反向代理 服务器，也是一个 IMAP/POP3/SMTP 代理服务器。')]),s._v(" "),a("p",[s._v("在高连接并发的情况下，Nginx 是 Apache 服务器不错的替代品。")])]),s._v(" "),a("h2",{attrs:{id:"_1、常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、常用命令"}},[s._v("#")]),s._v(" 1、常用命令")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("start nginx             // 启动\nnginx -s stop           // 快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。\nnginx -s quit           // 平稳关闭Nginx，保存相关信息，有安排的结束web服务。\nnginx -s reload         // 修改配置后重新加载生效。\nnginx -s reopen         // 重新打开日志文件。\nnginx -c filename       // 为 Nginx 指定一个配置文件，来代替缺省的。\nnginx -t                // 配置文件检测是否正确\nnginx -v                // 显示 nginx 的版本。\nnginx -V                // 显示 nginx 的版本，编译器版本和配置参数。\nservice nginx stop      // 停止\nservice nginx start     // 启动\nservice nginx restart   // 重启\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"_2、nginx-无法重启解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、nginx-无法重启解决方案"}},[s._v("#")]),s._v(" 2、nginx 无法重启解决方案")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("snginx -c /usr/local/etc/nginx/nginx.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3、403-forbidden"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、403-forbidden"}},[s._v("#")]),s._v(" 3、403 Forbidden")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("autoindex off       //鉴于安全考虑，建议关闭当前页面目录结构\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_4、反向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、反向代理"}},[s._v("#")]),s._v(" 4、反向代理")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("路由访问 80 端口但实际会访问 8080 端口")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server {\n    listen 80;\n    server_name www.xxx.com;\n    location / {\n        index index.html index.htm;\n        proxy_pass  http://127.0.0.1:8080\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"_5、配置-https-协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、配置-https-协议"}},[s._v("#")]),s._v(" 5、配置 https 协议")]),s._v(" "),a("p",[s._v("在云上下载 https 协议证书")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server {\n    listen 443;\n    server_name www.xxx.com;                        // 你的域名\n    root /var/www/public;                           // 前台文件存放文件夹，可改成别的\n    index index.html index.htm;                     // 上面配置的文件夹里面的index.html\n\n    ssl on;\n    ssl_certificate  xxx.pem;                       // 改成你的证书的名字\n    ssl_certificate_key xxx.key;                    // 你的证书的名字\n    ssl_session_timeout 5m;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n\n    location / {\n        index index.html index.htm;\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h2",{attrs:{id:"_6、配置-http-跳-https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、配置-http-跳-https"}},[s._v("#")]),s._v(" 6、配置 http 跳 https")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("rewrite ^(.*) https://$server_name$1 permanent;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_7、vue-history-模式下刷新-404"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、vue-history-模式下刷新-404"}},[s._v("#")]),s._v(" 7、vue history 模式下刷新 404")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("location / {\n  try_files $uri $uri/ /index.html;         //根目录\n  try_files $uri $uri/ /test/index.html;    //二级目录\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"_8、二级目录反向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、二级目录反向代理"}},[s._v("#")]),s._v(" 8、二级目录反向代理")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://zhang.ge/5054.html",title:"Nginx 通过二级目录（路径）映射不同的反向代理，规避 IP+端口访问",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nginx 通过二级目录（路径）映射不同的反向代理，规避 IP+端口访问"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server {\n    listen 80;\n    server_name www.xxx.com;\n    root /var/www/public;\n    location /test {\n        proxy_pass  http://127.0.0.1:8080\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);