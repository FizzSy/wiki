<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack | 卢毓文的个人学习博客</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/profile.jpg">
    <meta name="description" content="一个兴趣使然的个人技术博客">
    <meta name="author" content="luyuwen">
    <meta name="keywords" content="卢毓文的个人学习博客，一个兴趣使然的个人技术博客">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    
    <link rel="preload" href="/assets/css/0.styles.c9d44837.css" as="style"><link rel="preload" href="/assets/js/app.0e228f52.js" as="script"><link rel="preload" href="/assets/js/3.b4c41730.js" as="script"><link rel="preload" href="/assets/js/1.455be433.js" as="script"><link rel="preload" href="/assets/js/23.a67d9a09.js" as="script"><link rel="prefetch" href="/assets/js/10.69c73e18.js"><link rel="prefetch" href="/assets/js/11.05e76a96.js"><link rel="prefetch" href="/assets/js/12.2b46303a.js"><link rel="prefetch" href="/assets/js/13.af2e6e19.js"><link rel="prefetch" href="/assets/js/14.504a1e5e.js"><link rel="prefetch" href="/assets/js/15.f1ece878.js"><link rel="prefetch" href="/assets/js/16.0fa14b67.js"><link rel="prefetch" href="/assets/js/17.c376c972.js"><link rel="prefetch" href="/assets/js/18.ad78af15.js"><link rel="prefetch" href="/assets/js/19.7c5996e1.js"><link rel="prefetch" href="/assets/js/20.f5b5fc43.js"><link rel="prefetch" href="/assets/js/21.c2c627cc.js"><link rel="prefetch" href="/assets/js/22.6cb6048c.js"><link rel="prefetch" href="/assets/js/24.a2fa98e5.js"><link rel="prefetch" href="/assets/js/25.5a8c20b3.js"><link rel="prefetch" href="/assets/js/26.b783322a.js"><link rel="prefetch" href="/assets/js/27.e3b4b8c9.js"><link rel="prefetch" href="/assets/js/28.7fccb2dc.js"><link rel="prefetch" href="/assets/js/4.c6c546d7.js"><link rel="prefetch" href="/assets/js/5.25a7bfef.js"><link rel="prefetch" href="/assets/js/6.54d709e0.js"><link rel="prefetch" href="/assets/js/7.6385b2ee.js"><link rel="prefetch" href="/assets/js/8.19b50a3e.js"><link rel="prefetch" href="/assets/js/9.446e6812.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c9d44837.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">卢毓文的个人学习博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/documents/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><a href="/message/" class="nav-link">
  留言
</a></div> <a href="https://github.com/FizzSy/wiki.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/documents/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><a href="/message/" class="nav-link">
  留言
</a></div> <a href="https://github.com/FizzSy/wiki.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>文档</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/documents/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/documents/webpack.html" aria-current="page" class="active sidebar-link">webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/webpack.html#_1、什么是-webpack-为什么要使用它" class="sidebar-link">1、什么是 webpack，为什么要使用它？</a></li><li class="sidebar-sub-header"><a href="/documents/webpack.html#_2、安装" class="sidebar-link">2、安装</a></li><li class="sidebar-sub-header"><a href="/documents/webpack.html#_3、打包" class="sidebar-link">3、打包</a></li><li class="sidebar-sub-header"><a href="/documents/webpack.html#_4、配置" class="sidebar-link">4、配置</a></li></ul></li><li><a href="/documents/prerender.html" class="sidebar-link">预渲染</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/prerender.html#_1、服务端渲染和预渲染" class="sidebar-link">1、服务端渲染和预渲染</a></li><li class="sidebar-sub-header"><a href="/documents/prerender.html#_2、如何使用预渲染" class="sidebar-link">2、如何使用预渲染</a></li><li class="sidebar-sub-header"><a href="/documents/prerender.html#_3、vue-meta" class="sidebar-link">3、vue-meta</a></li><li class="sidebar-sub-header"><a href="/documents/prerender.html#_4、原理" class="sidebar-link">4、原理</a></li></ul></li><li><a href="/documents/nuxt.html" class="sidebar-link">Nuxt 服务端渲染</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/nuxt.html#_1、安装" class="sidebar-link">1、安装</a></li><li class="sidebar-sub-header"><a href="/documents/nuxt.html#_2、目录结构" class="sidebar-link">2、目录结构</a></li><li class="sidebar-sub-header"><a href="/documents/nuxt.html#_3、配置" class="sidebar-link">3、配置</a></li><li class="sidebar-sub-header"><a href="/documents/nuxt.html#_4、路由" class="sidebar-link">4、路由</a></li><li class="sidebar-sub-header"><a href="/documents/nuxt.html#_5、异步数据" class="sidebar-link">5、异步数据</a></li><li class="sidebar-sub-header"><a href="/documents/nuxt.html#_6、中间件" class="sidebar-link">6、中间件</a></li></ul></li><li><a href="/documents/typescript.html" class="sidebar-link">TypeScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/typescript.html#_1、类型" class="sidebar-link">1、类型</a></li><li class="sidebar-sub-header"><a href="/documents/typescript.html#_2、接口" class="sidebar-link">2、接口</a></li><li class="sidebar-sub-header"><a href="/documents/typescript.html#_3、函数" class="sidebar-link">3、函数</a></li><li class="sidebar-sub-header"><a href="/documents/typescript.html#_4、配置" class="sidebar-link">4、配置</a></li><li class="sidebar-sub-header"><a href="/documents/typescript.html#_5、在-vue-项目中使用-typescript" class="sidebar-link">5、在 vue 项目中使用 typescript</a></li></ul></li><li><a href="/documents/npm.html" class="sidebar-link">NPM 组件库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/npm.html#_1、规划目录结构" class="sidebar-link">1、规划目录结构</a></li><li class="sidebar-sub-header"><a href="/documents/npm.html#_2、配置项目以支持目录结构" class="sidebar-link">2、配置项目以支持目录结构</a></li><li class="sidebar-sub-header"><a href="/documents/npm.html#_3、编写组件" class="sidebar-link">3、编写组件</a></li><li class="sidebar-sub-header"><a href="/documents/npm.html#_5、编写示例" class="sidebar-link">5、编写示例</a></li><li class="sidebar-sub-header"><a href="/documents/npm.html#_6、发布组件库到-npm" class="sidebar-link">6、发布组件库到 npm</a></li><li class="sidebar-sub-header"><a href="/documents/npm.html#_7、使用新发布的组件库" class="sidebar-link">7、使用新发布的组件库</a></li></ul></li><li><a href="/documents/uni-app.html" class="sidebar-link">uni-app</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/uni-app.html#_1、创建项目" class="sidebar-link">1、创建项目</a></li><li class="sidebar-sub-header"><a href="/documents/uni-app.html#_2、开发规范" class="sidebar-link">2、开发规范</a></li><li class="sidebar-sub-header"><a href="/documents/uni-app.html#_3、目录结构" class="sidebar-link">3、目录结构</a></li><li class="sidebar-sub-header"><a href="/documents/uni-app.html#_4、生命周期" class="sidebar-link">4、生命周期</a></li><li class="sidebar-sub-header"><a href="/documents/uni-app.html#_5、语法、api" class="sidebar-link">5、语法、API</a></li><li class="sidebar-sub-header"><a href="/documents/uni-app.html#_6、运行环境判断" class="sidebar-link">6、运行环境判断</a></li><li class="sidebar-sub-header"><a href="/documents/uni-app.html#_7、判断平台" class="sidebar-link">7、判断平台</a></li></ul></li><li><a href="/documents/wepy.html" class="sidebar-link">Wepy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/wepy.html#_1、搭建项目" class="sidebar-link">1、搭建项目</a></li><li class="sidebar-sub-header"><a href="/documents/wepy.html#_2、目录结构" class="sidebar-link">2、目录结构</a></li><li class="sidebar-sub-header"><a href="/documents/wepy.html#_3、methods-events" class="sidebar-link">3、methods, events</a></li><li class="sidebar-sub-header"><a href="/documents/wepy.html#_4、事件传值" class="sidebar-link">4、事件传值</a></li><li class="sidebar-sub-header"><a href="/documents/wepy.html#_5、组件传值" class="sidebar-link">5、组件传值</a></li><li class="sidebar-sub-header"><a href="/documents/wepy.html#_6、动态绑定-class" class="sidebar-link">6、动态绑定 class</a></li><li class="sidebar-sub-header"><a href="/documents/wepy.html#_7、循环渲染组件" class="sidebar-link">7、循环渲染组件</a></li><li class="sidebar-sub-header"><a href="/documents/wepy.html#_8、globaldata" class="sidebar-link">8、globalData</a></li><li class="sidebar-sub-header"><a href="/documents/wepy.html#_9、版本" class="sidebar-link">9、版本</a></li></ul></li><li><a href="/documents/jenkins.html" class="sidebar-link">jenkins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/jenkins.html#_1、安装" class="sidebar-link">1、安装</a></li><li class="sidebar-sub-header"><a href="/documents/jenkins.html#_2、部署" class="sidebar-link">2、部署</a></li><li class="sidebar-sub-header"><a href="/documents/jenkins.html#_3、常用命令" class="sidebar-link">3、常用命令</a></li><li class="sidebar-sub-header"><a href="/documents/jenkins.html#_4、首次启动缓慢等待解决方案" class="sidebar-link">4、首次启动缓慢等待解决方案</a></li><li class="sidebar-sub-header"><a href="/documents/jenkins.html#_5、项目构建发布" class="sidebar-link">5、项目构建发布</a></li><li class="sidebar-sub-header"><a href="/documents/jenkins.html#_6、邮件通知" class="sidebar-link">6、邮件通知</a></li></ul></li><li><a href="/documents/nginx.html" class="sidebar-link">Nginx</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/nginx.html#_1、常用命令" class="sidebar-link">1、常用命令</a></li><li class="sidebar-sub-header"><a href="/documents/nginx.html#_2、nginx-无法重启解决方案" class="sidebar-link">2、nginx 无法重启解决方案</a></li><li class="sidebar-sub-header"><a href="/documents/nginx.html#_3、403-forbidden" class="sidebar-link">3、403 Forbidden</a></li><li class="sidebar-sub-header"><a href="/documents/nginx.html#_4、反向代理" class="sidebar-link">4、反向代理</a></li><li class="sidebar-sub-header"><a href="/documents/nginx.html#_5、配置-https-协议" class="sidebar-link">5、配置 https 协议</a></li><li class="sidebar-sub-header"><a href="/documents/nginx.html#_6、配置-http-跳-https" class="sidebar-link">6、配置 http 跳 https</a></li><li class="sidebar-sub-header"><a href="/documents/nginx.html#_7、vue-history-模式下刷新-404" class="sidebar-link">7、vue history 模式下刷新 404</a></li><li class="sidebar-sub-header"><a href="/documents/nginx.html#_8、二级目录反向代理" class="sidebar-link">8、二级目录反向代理</a></li></ul></li><li><a href="/documents/git.html" class="sidebar-link">git</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/git.html#_1、常用命令" class="sidebar-link">1、常用命令</a></li><li class="sidebar-sub-header"><a href="/documents/git.html#_2、git-全局设置" class="sidebar-link">2、Git 全局设置</a></li><li class="sidebar-sub-header"><a href="/documents/git.html#_3、创建一个新仓库" class="sidebar-link">3、创建一个新仓库</a></li><li class="sidebar-sub-header"><a href="/documents/git.html#_4、已存在文件夹或仓库" class="sidebar-link">4、已存在文件夹或仓库</a></li><li class="sidebar-sub-header"><a href="/documents/git.html#_5、解决分支冲突" class="sidebar-link">5、解决分支冲突</a></li><li class="sidebar-sub-header"><a href="/documents/git.html#_6、修改上传限制" class="sidebar-link">6、修改上传限制</a></li><li class="sidebar-sub-header"><a href="/documents/git.html#_7、修改远程仓库地址" class="sidebar-link">7、修改远程仓库地址</a></li><li class="sidebar-sub-header"><a href="/documents/git.html#_8、代码回滚" class="sidebar-link">8、代码回滚</a></li></ul></li><li><a href="/documents/markdown.html" class="sidebar-link">markdown</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/markdown.html#_1、标题" class="sidebar-link">1、标题</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#这是二级标题" class="sidebar-link">这是二级标题</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#_2、字体" class="sidebar-link">2、字体</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#_3、区块" class="sidebar-link">3、区块</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#_4、分割线" class="sidebar-link">4、分割线</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#_5、图片" class="sidebar-link">5、图片</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#_6、超链接" class="sidebar-link">6、超链接</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#_7、列表" class="sidebar-link">7、列表</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#_8、表格" class="sidebar-link">8、表格</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#_9、代码" class="sidebar-link">9、代码</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#_10、角标" class="sidebar-link">10、角标</a></li><li class="sidebar-sub-header"><a href="/documents/markdown.html#_11、markdown-拓展" class="sidebar-link">11、Markdown 拓展</a></li></ul></li><li><a href="/documents/linux.html" class="sidebar-link">Linux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/linux.html#_1、常用命令" class="sidebar-link">1、常用命令</a></li><li class="sidebar-sub-header"><a href="/documents/linux.html#_2、vim-基本操作" class="sidebar-link">2、VIM 基本操作</a></li><li class="sidebar-sub-header"><a href="/documents/linux.html#_3、解压压缩文件" class="sidebar-link">3、解压压缩文件</a></li><li class="sidebar-sub-header"><a href="/documents/linux.html#_4、设置系统快捷软连接" class="sidebar-link">4、设置系统快捷软连接</a></li><li class="sidebar-sub-header"><a href="/documents/linux.html#_5、设置环境变量-以-node-js-为例" class="sidebar-link">5、设置环境变量 (以 node.js 为例)</a></li></ul></li><li><a href="/documents/sass.html" class="sidebar-link">Sass</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/sass.html#_1、变量" class="sidebar-link">1、变量</a></li><li class="sidebar-sub-header"><a href="/documents/sass.html#_2、嵌套" class="sidebar-link">2、嵌套</a></li><li class="sidebar-sub-header"><a href="/documents/sass.html#_3、导入" class="sidebar-link">3、导入</a></li><li class="sidebar-sub-header"><a href="/documents/sass.html#_4、混合" class="sidebar-link">4、混合</a></li><li class="sidebar-sub-header"><a href="/documents/sass.html#_5、继承" class="sidebar-link">5、继承</a></li><li class="sidebar-sub-header"><a href="/documents/sass.html#_6、计算" class="sidebar-link">6、计算</a></li><li class="sidebar-sub-header"><a href="/documents/sass.html#_7、条件语句" class="sidebar-link">7、条件语句</a></li><li class="sidebar-sub-header"><a href="/documents/sass.html#_8、循环语句" class="sidebar-link">8、循环语句</a></li></ul></li><li><a href="/documents/other.html" class="sidebar-link">其它</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack"><a href="#webpack" class="header-anchor">#</a> webpack</h1> <div class="custom-block tip"><p class="custom-block-title">简介</p> <p>本质上，webpack 是一个现代 JavaScript 应用程序的静态模块打包器(module bundler)。当 webpack 处理应用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 bundle。在 webpack 中，一切都是模块。</p></div> <h2 id="_1、什么是-webpack-为什么要使用它"><a href="#_1、什么是-webpack-为什么要使用它" class="header-anchor">#</a> 1、什么是 webpack，为什么要使用它？</h2> <p>现今的很多网页其实可以看做是功能丰富的应用，它们拥有着复杂的 JavaScript 代码和一大堆依赖包。为了简化开发的复杂度，前端社区涌现出了很多好的实践方法</p> <ul><li><p><b>模块化</b> 让我们可以把复杂的程序细化为小的文件</p></li> <li><p>类似于 TypeScript 这种在 JavaScript 基础上拓展的开发语言：使我们能够实现目前版本的 JavaScript 不能直接使用的特性，并且之后还能转换为 JavaScript 文件使浏览器可以识别并兼容老版本的浏览器</p></li> <li><p>工程化开发 Vue、React 项目</p></li> <li><p>Scss，less 等 CSS 预处理器</p></li> <li><p>将代码打包的同时进行混淆，提高代码的安全性</p></li> <li><p>...</p></li></ul> <h2 id="_2、安装"><a href="#_2、安装" class="header-anchor">#</a> 2、安装</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//全局安装</span>
npm install <span class="token operator">-</span>g webpack
<span class="token comment">//安装到你的项目目录</span>
npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev webpack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_3、打包"><a href="#_3、打包" class="header-anchor">#</a> 3、打包</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//默认会打包当前目录下的 webpack.config.文件</span>
webpack

<span class="token comment">//--config可以指定要打包的文件</span>
webpack <span class="token operator">--</span>config <span class="token punctuation">.</span><span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_4、配置"><a href="#_4、配置" class="header-anchor">#</a> 4、配置</h2> <p>1、入口、输出</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token comment">//已多次提及的唯一入口文件</span>
	entry<span class="token operator">:</span> __dirname <span class="token operator">+</span> <span class="token string">&quot;/app/main.js&quot;</span><span class="token punctuation">,</span>
	<span class="token comment">//打包后的文件存放的地方</span>
	output<span class="token operator">:</span> <span class="token punctuation">{</span>
		path<span class="token operator">:</span> __dirname <span class="token operator">+</span> <span class="token string">&quot;/public&quot;</span><span class="token punctuation">,</span>
		<span class="token comment">//打包后输出文件的文件名</span>
		filename<span class="token operator">:</span> <span class="token string">&quot;bundle.js&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>注：__dirname 是 node.js 中的一个全局变量，它指向当前执行脚本所在的目录。</p></blockquote> <p>2、构建本地开发服务器</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//本地开发服务器</span>
npm i webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server <span class="token operator">-</span><span class="token constant">D</span>

<span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;/src/index.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 入口文件</span>
    output<span class="token operator">:</span> <span class="token punctuation">{</span>
        path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> __dirname<span class="token punctuation">,</span> <span class="token string">&quot;/dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//打包后的文件存放的地方</span>
        filename<span class="token operator">:</span> <span class="token string">&quot;bundle.js&quot;</span> <span class="token comment">//打包后输出文件的文件名</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
        contentBase<span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 本地服务器所加载文件的目录</span>
        port<span class="token operator">:</span> <span class="token string">&quot;8088&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// 设置端口号为8088</span>
        inline<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 文件修改后实时刷新</span>
        historyApiFallback<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//不跳转</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//package.json增加npm run dev命令</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-project&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --open&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.23.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.1.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.1.10&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>3、loader</p> <div class="custom-block tip"><p class="custom-block-title">loader</p> <p>loader 让 webpack 能够去处理那些非 JavaScript 文件（webpack 自身只理解 JavaScript）。loader 可以将所有类型的文件转换为 webpack 能够处理的有效模块，然后你就可以利用 webpack 的打包能力，对它们进行处理。</p> <p>本质上，webpack loader 将所有类型的文件，转换为应用程序的依赖图（和最终的 bundle）可以直接引用的模块。</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//编辑vue</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vue-loader&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//编辑css</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token comment">// exclude: /node_modules/,</span>
    use<span class="token operator">:</span> <span class="token punctuation">[</span>styleLoader<span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//编辑sass</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            loader<span class="token operator">:</span> styleLoader <span class="token comment">// creates style nodes from JS strings</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span> <span class="token comment">// translates CSS into CommonJS</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;sass-loader&quot;</span> <span class="token comment">// compiles Sass to CSS</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//编辑svg图片</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.svg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span> <span class="token string">&quot;svg-sprite-loader&quot;</span><span class="token punctuation">,</span>
    include<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>rootPath<span class="token punctuation">,</span> <span class="token string">&quot;src/icons&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
        symbolId<span class="token operator">:</span> <span class="token string">&quot;icon-[name]&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//编辑图片</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(eot|png|jpe?g|gif|svg)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    exclude<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>rootPath<span class="token punctuation">,</span> <span class="token string">&quot;src/icons&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
            limit<span class="token operator">:</span> <span class="token number">6000</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">&quot;images/[name].[hash:7].[ext]&quot;</span> <span class="token comment">// 将图片都放入images文件夹下，[hash:7]防缓存</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//编辑图标</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(woff2?|eot|ttf|otf)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
            limit<span class="token operator">:</span> <span class="token number">6000</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">&quot;fonts/[name].[hash:7].[ext]&quot;</span> <span class="token comment">// 将字体放入fonts文件夹下</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p>4、plugins</p> <div class="custom-block tip"><p class="custom-block-title">plugins</p> <p>插件（Plugins）是用来拓展 Webpack 功能的，它们会在整个构建过程中生效，执行相关的任务。
Loaders 和 Plugins 常常被弄混，但是他们其实是完全不同的东西，可以这么来说，loaders 是在打包构建过程中用来处理源文件的（JSX，Scss，Less..），一次处理一个，插件并不直接操作单个文件，它直接对整个构建过程其作用。</p></div> <p>常用 plugin</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//构建单页应用入口输出的模板html</span>
<span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//每次打包前清除上次打包文件</span>
<span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//压缩css</span>
<span class="token string">&quot;optimize-css-assets-webpack-plugin&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//压缩js</span>
<span class="token string">&quot;terser-webpack-plugin&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//将css从js文件中提取出来</span>
<span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//模块热更替</span>
webpack<span class="token punctuation">.</span><span class="token function">HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//开启多线程打包，加快打包速度</span>
<span class="token punctuation">(</span><span class="token string">&quot;happypack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//开启打包缓存</span>
<span class="token punctuation">(</span><span class="token string">&quot;hard-source-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>5、分包</p> <div class="custom-block tip"><p class="custom-block-title">splitChunks</p> <p>提取被重复引入的文件，单独生成一个或多个文件，这样避免在多入口重复打包文件</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token comment">//...</span>
	optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
		splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
			chunks<span class="token operator">:</span> <span class="token string">&quot;async&quot;</span><span class="token punctuation">,</span>
			minSize<span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>
			minChunks<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
			maxAsyncRequests<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
			maxInitialRequests<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
			automaticNameDelimiter<span class="token operator">:</span> <span class="token string">&quot;~&quot;</span><span class="token punctuation">,</span>
			name<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
				vendors<span class="token operator">:</span> <span class="token punctuation">{</span>
					test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
					priority<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					minChunks<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
					priority<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span>
					reuseExistingChunk<span class="token operator">:</span> <span class="token boolean">true</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上一次更新时间：:</span> <span class="time">12/1/2020, 11:18:55 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/documents/" class="prev router-link-active">
        介绍
      </a></span> <span class="next"><a href="/documents/prerender.html">
        预渲染
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><div></div></div></div>
    <script src="/assets/js/app.0e228f52.js" defer></script><script src="/assets/js/3.b4c41730.js" defer></script><script src="/assets/js/1.455be433.js" defer></script><script src="/assets/js/23.a67d9a09.js" defer></script>
  </body>
</html>
